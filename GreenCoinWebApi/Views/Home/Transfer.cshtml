@model GreenCoinWebApi.Models.TransferRequest 

@{
    ViewBag.Title = "Transfer Coin";
}

<!-- Navigation -->
<div class="container">
    <br/>
    <!-- Page Heading/Breadcrumbs -->
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                Transfer Coin
            </h1>
            @*<ol class="breadcrumb">
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li class="active">Portfolio Item</li>
            </ol>*@
        </div>
    </div>
    <!-- /.row -->
    <!-- Portfolio Item Row -->

        <div class="row">
            <div class="col-md-12">
                <div>
                    @using (Html.BeginForm("CreateWallet", "Wallet", FormMethod.Post, new { Class = "form-horizontal" }))
                    {
                        @Html.ValidationSummary(true)
                        @*@Html.HiddenFor(m => m.UserName, new { Value = "Negar" })*@
                        <div class="form-group">
                            <h3>From Wallet</h3>
                            @Html.TextBoxFor(m => m.SourceWallet, new { Class = "form-control" })
                            <br />
                            <h3>To Wallet</h3>
                            @Html.TextBoxFor(m => m.DestinationWallet, new { Class = "form-control" })

                            <br/>
                            <h3>Amount</h3>
                            @Html.TextBoxFor(m => m.Amount , new { Class = "form-control" })
                            <br/>
                            <br />
                            <input type="submit" onclick="TransferCoin();" value="Transfer" class="btn btn-primary" />
                        </div>

                    }
                </div>
            </div>
        </div>

  
    <!-- /.row -->
    <!-- Related Projects Row -->
   
    <!-- /.row -->
</div>
<!-- /.container -->

<script type="text/javascript">

    function TransferCoin() {

            var model = {
                SourceWallet: $('#SourceWallet').val() ,
                DestinationWallet: $('#DestinationWallet').val(),
                Amount: $('#Amount').val()

        };
            alert("java call");
            var apiurl = "http://localhost:60477/api/Wallet/Transfer";

    $.ajax({
        type: "POST",
        contentType: "application/json",
        url: apiurl,
        data: JSON.stringify(model),
        async: false
      });
    }

</script>